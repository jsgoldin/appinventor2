<div class='course-page-container'>
	<section class="section">
		<h1 class="center-children">Asteroids</h1>
		<p>
			Asteroids is a classic arcade game where you captain a spaceship and shoot down asteroids. In this tutorial you will learn how to build the game and the basics of computer animation.
		</p>

		<p>
			Asteroids is a relatively simple game made up of 3 distinct items.
		</p>

		<ul>
			<li>a spaceship</li>
			<li>asteroids</li>
			<li>and the spaceship's bullets</li>
		</ul>

		<p>We can use App Inventor's ImageSprite component to represent all 3 things. An ImageSprite is simply an image that is able to move. By manipulating ImageSprites we will be able to build animations, and with some logic, playable games!</p>
	</section>

	<section class="section">
		<h2>Setting Up The Canvas</h2>
		<p>ImageSprite's must be placed within a Canvas component. Place a Canvas component from the Drawing and Animation folder into the designer.</p>

		<p>Set the following properties for the Canvas</p>
		<ul>
			<li>Width - "fill parent"</li>
			<li>Height - 300</li>
			<li>Background - blue</li>
		</ul>
	</section>

	<section class="section">
		<h2>Building the Asteroid</h2>

		<p>Place an ImageSprite from the Drawing and Animation folder into the canvas you just made.</p>

		<p>Rename the ImageSprite  "asteroid". Giving your components meaningful names will make your life much easier as your app gets more complex.</p>

		<p>
			Now we will set the texture of the asteroid. Locate the picture setting in the ImageSprite's property menu. Click upload and select the image file you just downloaded.
		</p>

		<p>
			<img src="/assets/img/asteroids/asteroid.png">
			<a download href="/assets/img/asteroids/asteroid.png">Download the asteroid's texture</a>
		</p>


		<p>
			ImageSprite's have two properties which determine how they move:
		</p>
		<ul>
			<li>Speed - the amount of pixels the ImageSprite will move every 100 milliseconds</li>
			<li>Heading - the direction the ImageSprite will move in degrees</li>
		</ul>

		<p>
			In the property menu of the asteroid's ImageSprite set it's speed to 10, and it's heading to 90. Now when we run our game the asteroid will move with a speed of 10 pixels per 100 milliseconds in a direction of 90 degrees. In other words the asteroid will move straight off the screen. Not very exciting! Asteroids in the game Asteroids change directions whenever they hit the edge of the screen. In the next step we will add logic to make this happen in our own game.
		</p>

		<p>
			Open up the blocks window in your App Inventor project. Click on your asteroid ImageSprite to bring up a list of logic blocks associated with it. Select the "when edge reached" block and place it in your blocks editor. Here is what it will look like:
		</p>

		<img class="art-img" src="/assets/img/asteroids/when-edge-reached-asteroid.png">





		<p>Whenever the asteroid ImageSprite hits the edge of the canvas, this block will run what is inside of it's do section. We need to add logic here to change the asteroid ImageSprite's heading like so: </p>

		<img class="art-img" src="/assets/img/asteroids/when-edge-reached-asteroid-change-heading.png">


		<p>
			Adding 180 to the asteroid's heading will cause it to flip it's direction. If you run the project now you can see the asteroid bounce back and forth between edges. This is a big improvement from our asteroid that flies away off the edge, but it' still not perfect. We want the new direction of the asteroid to be unpredictable. We can accomplish by adding in a random factor to the new heading of the asteroid like so:
		</p>

		<img class="art-img" src="/assets/img/asteroids/when-edge-reached-asteroid-random-heading.png">

		<p>
			You might notice that the new heading is not guranteed to give the asteroid a direction away from the edge. For the sake of simplicity this is okay, because the logic will keep running until the spaceship's new heading causes it to turn around. 
		</p>
		<p>
			If you run the program now you will see the asteroid sporadicly bouncing around the canvas. This is exactly what we want for the game! Later we will program the asteroid to respond to being hit by bullets. Before we can do that we must make the spaceship.
		</p>
	</section>

	<section class="section">
		<h2>Building the Spaceship</h2>
		<p>Drag a new ImageSprite onto the canvas and rename it "spaceship"</p>
		
		<p>We will set the ImageSprite's picture in it's property menu just like we did for the asteroid.</p>
		<p>
			<img src="/assets/img/asteroids/shooter.png">
			<a download href="/assets/img/asteroids/shooter.png">Download the spaceship texture</a>
		</p>

		<p>The direction or heading of the spaceship is going to be controlled by the orientation of the phone. In other words when the user tilts the phone up or down we want the spaceship to move up or down and when the phone is tilted left or right we want the spaceship to do the same. We can detect the orientation of the phone using the OrientationSensor component, located in the Sensor folder in the designer view. Drag out a new OrientationSensor onto your app. </p>


		<p>First, let's setup the basic logic. In the block's editor drag out the OrientationSensor's "when orientation changed" block. This block's do section will run whenever the phone's orientation changes.</p>

		<img class="art-img" src="/assets/img/asteroids/when-orientation-change.png">


		<p>We want the spaceship's heading to change when the orientation of the phone changes, so drag a set heading into the do section like so:</p>

		<img class="art-img" src="/assets/img/asteroids/when-orientation-change-set-heading.png">


		<p>
			Drag out the OrientationSensor's "get angle" block and attach it to the set heading block like so:
		</p>

		<img class="art-img" src="/assets/img/asteroids/when-orientation-change-set-angle.png">


		<p>
			Now whenever the phone changes it's orientation the spaceship's heading will change as well in the same direction.
		</p>

	</section>


	<section class="section">
		<h2>Turn the Sprite Around when it hits an Edge</h2>
		<p>
			App Inventor provides special blocks that run when certain things happen to a given component. We will use the EdgeReached block to turn the spaceship around. As the name implies, it runs when an ImageSprite reaches the edge of its parent Canvas. 
		</p>
		<p>
			Go into the blocks editor window in App Inventor and click on your ImageSprite in the blocks sidebar on the left. This will bring up a list of all the blocks that are associated with the ImageSprite. Select the when EdgeReached block. Notice that the name of the ImageSprite appears on the block. This means that this block is fired when that particular ImageSprite reaches the edge.
		</p>

		<p>
			Now we need to tell App Inventor what happens when the event is triggered. We do this by placing blocks in the do section of the EdgeReached block. To flip the ImageSprite we must reverse its heading. The easiest way to do this is simply adding 180 to whatever its heading is. Below is an image of what this looks like in block form. (Note: the name of the ImageSprite will vary depending on what you named it)
		</p>

		<img class="art-img" src="/assets/img/asteroids/bounce-manual.png">
	</section>


	<section class="section">
		<h2>Shooting Bullets</h2>
		<p>
			Now that you know how to get an ImageSprite moving and deal with edges, its time to program the spaceships cannon so it can protect itself against nasty asteroids. You’ll need a Button to serve as the trigger, and another ImageSprite for the bullet.
		</p>

		<p>
			when the user clicks the Button, we want a bullet to appear near the nose of the Spaceship and get it moving in the same direction as the spaceship. We also want the bullets to dissapear once they reach the edge of the screen.
		</p>

		<p>
			A crucial skill in programming is being able to break apart a task into smaller tasks. In other words, keeping the whole behavior in mind, choose one part of it and get that working. Then add additional complexity in small iterations.
		</p>

		<p>
			Keeping this in mind, we will first focus on getting a bullet to move when the user hits the fire button. For now we will ignore the logic regarding hiding the bullet and its direction.
		</p>

		<p>
			In the Designer, create a Ball component named “Bullet”, and place it right at the nose of the spaceship as seen in the following image:
		</p>

		<img class="art-img" src="/assets/img/asteroids/bullet-ball.png">


		<p>
			Then drag in a Button, name it ShooterButton, and place it below the Canvas. Then add the following blocks:
		</p>


		<img class="art-img" src="/assets/img/asteroids/bullet-set-speed.png">

		<p>
			Because in the Designer you’ve left the bullet’s speed at 0, it won’t be moving when the app begins. But now, when the ShooterButton is clicked, the ball will start moving in a left-to-right direction (because of the default Heading of 0).
		</p>

		<p>
			Now that we have the basic logic in place for the fire button we can move onto the next step, getting the bullet to disapear when it hits the edge. This is accomplished using the when EdgeReached event block we used earlier for the spaceship. Here is what the blocks look like:
		</p>

		<img class="art-img" src="/assets/img/asteroids/bullet-turn-around.png">


		<p>
			The last step in implementing the bullet is getting new bullets to appear every time you hit the fire button. We will need to change the ball component's display property to invisible so it will initially be hidden. Now we add blocks to the when button clicked event that will make the ball appear when the user clicks. This is what the when button clicked blocks will look like when your done:
		</p>

		<img class="art-img" src="/assets/img/asteroids/bullet-set-visible.png">
		
		<p>
			What you have so far will work as long as the Spaceship doesn’t move or change direction. The bullet always starts at a fixed location, where you placed it in the Designer, and it has a Heading of 0. We want the bullet's location and heading to be relative to the Spaceship. To do this we will need to add some new blocks to the ShooterButton click event.
		</p>

		<img class="art-img" src="/assets/img/asteroids/complete-fire-btn.png">
	</section>
</div>